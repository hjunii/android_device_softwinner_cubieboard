From c158fd171388bd908b4db8081e2c8e7e62d5ed33 Mon Sep 17 00:00:00 2001
From: zombah <zombah@gmail.com>
Date: Wed, 26 Feb 2014 23:02:26 +0400
Subject: [PATCH 1/1] bta_hh: Change bus_type to BUS_USB for USB HCI

* Bluetooth input devices have bus_type BUS_USB with USB HCI

Change-Id: I08cea5af59fbf1a668279b95cd92958018568b89
Signed-off-by: zombah <zombah@gmail.com>
---
 btif/co/bta_hh_co.c | 4 ++++
 hci/Android.mk      | 4 +++-
 2 files changed, 7 insertions(+), 1 deletion(-)

diff --git a/btif/co/bta_hh_co.c b/btif/co/bta_hh_co.c
index 43b2717..cb9bdbe 100644
--- a/btif/co/bta_hh_co.c
+++ b/btif/co/bta_hh_co.c
@@ -423,7 +423,11 @@ void bta_hh_co_send_hid_info(btif_hh_device_t *p_dev, char *dev_name, UINT16 ven
     strncpy((char*)ev.u.create.name, dev_name, sizeof(ev.u.create.name) - 1);
     ev.u.create.rd_size = dscp_len;
     ev.u.create.rd_data = p_dscp;
+#if (BLUETOOTH_HCI_USE_USB == TRUE)
+    ev.u.create.bus = BUS_USB;
+#else
     ev.u.create.bus = BUS_BLUETOOTH;
+#endif
     ev.u.create.vendor = vendor_id;
     ev.u.create.product = product_id;
     ev.u.create.version = version;
diff --git a/hci/Android.mk b/hci/Android.mk
index f4af391..e393512 100644
--- a/hci/Android.mk
+++ b/hci/Android.mk
@@ -27,7 +27,9 @@ LOCAL_CFLAGS += -DHCI_H2
 
 LOCAL_SRC_FILES += \
         src/usb.c \
-        src/hci_h4.c
+        src/hci_h4.c \
+        src/userial_mct.c \
+        src/hci_mct.c \
 
 LOCAL_C_INCLUDES += \
         external/libusb
-- 
1.8.3.2

